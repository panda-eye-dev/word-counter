<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Word Counter</title>
</head>
<body>
    <div class="container">
        <div class="copy-icon">
            <span id="copy-quote">
                <img src="https://i.imgur.com/zHgKDpN.png" alt="" />
            </span>
        </div>
        <h1 class="app-title">Count 'em</h1>
        <p class="app-sub">The 125546th word counter out there </p>
        <div class="div-1">
            <form id="input_form" action="/" method="POST">
            <label for="user_input"></label>
            <textarea name="user_input" class="inp" id="user_input" placeholder="Type or Paste your words here..."></textarea>
            </form>
        </div>
        <div class="div-2">
            <div class="subdiv-1">   
                <div>
                    <p>Words: <span id="word_count">0</span></p>
                    <p>Characters: <span id="char_count">0</span></p>
                </div>
                <div >
                    <p>Sentences: <span id="sen_count">0</span></p>
                    <p>Paragraphs: <span id="par_count">0</span></p>
                </div>
            </div>
            <div class="subdiv-2">
                <p>Characters without spaces: <span id="char_without_space">  0</span></p>
                <p>Reading time<i class="fa fa-exclamation-circle"></i> :<span id="reading_time">  0 min</span></p>
            </div>
        </div>
    </div>
    <script>
        const user_inp = document.getElementById("user_input");
        const form_input = document.getElementById("input_form");
        const word = document.getElementById("word_count");
        const character = document.getElementById("char_count")
        const sentence = document.getElementById("sen_count");
        const paragraph = document.getElementById("par_count");
        const reading_time = document.getElementById("reading_time")
        const char_without_space = document.getElementById("char_without_space");
        const handleCopyClick = document.querySelector('#copy-quote');

        user_inp.addEventListener("input", calculate)

        function calculate(e){
        
        if( e.target.value == 0){
            word.textContent = 0;
            sentence.textContent = 0;
        } else {
            word_count = e.target.value.split(' ').length;
            word.textContent = word_count;
            sen_count = e.target.value.split('.').length;
            sentence.textContent = sen_count;
        }

        char_count = e.target.value.split('').length;
            character.textContent = char_count;

        par_count = e.target.value.split(/\n\s*\n/).filter(Boolean).length;
            paragraph.textContent = par_count;

        const wordsPerMinute = 200;
        textLength = e.target.value.split(" ").length;
        if (textLength > 0){
            let value = Math.ceil(textLength / wordsPerMinute);
            result = `~${value} min read`
        }
            reading_time.textContent = result;

        removeSpacesText = e.target.value.split(/\s+/).join("").length;
        char_without_space.textContent = removeSpacesText;

        // handleCopyClick.addEventListener('click', () => {
        //     text = e.target.value.textContent;
        //     navigator.clipboard.writeText(`${text});
        //     alert("Text Copied to clipboard!")
        // })
        };

    </script>
    <!-- Issues:
     1. After deleting the text, the words and sentences
     shows 1
     2. Have a Copy icon on the far left of the textarea.
     Apply copy logic and it should say "Text copies to 
     clipboard"
     3. Have a delete icon on the far right of the textarea.
     Apply delete logic 
     4. The reading time info icon should display
     info when hovered like a superscript
     5. Style the title better and all the text too.
     6. Add another app box below the word counter box -
     Web page text extractor
     7. Pdf to text convertor for another box-->
</body>
</html>